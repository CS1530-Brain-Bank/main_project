<!doctype html>
<html>
<head>
<meta charset="utf-8">
	<title>Contacts</title>
	<!-- <script type="application/javascript" src="styleswitcher.js"></script> -->
	<link rel="stylesheet" type="text/css" href="default.css" title="Default" />
	<!-- <link rel="alternate stylesheet" type="text/css" href="blue.css" title="Blue" /> -->
</head>

<body>
	<div id="header">
		<a href="home.html"><button class="nav">Back</button></a>
	</div>
	<div id="container">
		<h1>Contacts Page</h1>
		<div id="content">
			<p>
				<label for="sort">Sort By: </label>
				<select name="sort" id="sort" class="sort">
					<option value="newest">Newest Added First</option>
					<option value="oldest">Oldest Added First</option>
					<option value="alphabetical">Alphabetical (A-Z)</option>
					<option value="reversealpha">Alphabetical (Z-A)</option>
				</select>
				<a href="addContact.html"><button class="add">+</button></a>
			</p>
		</div>
	</div>
	<table id="tableData" class ="table table-fixed">
		<thead>
			<tr></tr>
		</thead>
	</table>
	<tbody class="tbody">
	</tbody>
</body>
<script>
	$(document).ready(() => {
	$.ajax({
		ulr: "http://localhost:8082/contacts",
		method: 'GET',
		success: function(response){
			if(response.rows.length > 0){
				for(let index = 0; index < response.rows.length; index++) {
                	var newRow = $("<tr>");
                	var cols = "";
                	var name = '';
                	var relationship = '';
                	
                	cols += '<td> '+ response.rows[index].name +'</td>';
                	cols += '<td> '+ response.rows[index].relationship +'</td>';
                	                
                	newRow.append(cols);
                	$("#tableData .tbody").append(newRow);
            	}  
			}
		}
	})
	})
</script>
</html>
